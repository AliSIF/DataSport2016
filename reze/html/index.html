<!DOCTYPE html>
<html lang="fr"> <!-- Notre page est en français -->
 
    
    
    
    <head>
    <!-- Il est obligatoire de préciser un encodage de caractères et un titre pour la page -->
    <meta charset="utf-8">
   
    <title>Hyblab 2016</title>
      
    <!-- Déclaration de la feuille de style du document-->
        
    <link rel="stylesheet" href="css/fullPage.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.7.8/jquery.fullPage.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js"></script>-->
    <script src="js/jQuery.js"></script>  
    <script src="../Libraries/jquery-countTo-master/jquery.countTo.js"></script>
    <script src="js/script_map_france.js"></script>
        
		<link rel="stylesheet" type="text/css" href="css/index.css">

        <link rel="stylesheet"  type="text/css" href="css/index.css">


 
  </head>
    
    
    
    
    
  <body>
  
    <!-- Ce conteneur est la seule balise div que l'on s'autorise pour effectuer la mise en page du site -->
    <!-- On pourrait bien sûr en ajouter d'autres pour se faciliter la mise en page -->
    <!-- Mais on va s'efforce de respecter et brouiller le moins possible la structure logique du contenu -->
    
        <div id="fullPage" >
    <!-- Le contenu du site -->
            <div class ="section" id="section0" >
                <h1>REZÉ</h1>
                <h2>Élue ville la plus sportive 
de la région Pays-de-la-Loire en 2015</h2>
            </div> 
<!--===============================================================================================================-->
            <div class ="section" id="section1" >
                <div class="header_slide">
                    <table>
                        <tr>
                            <td><hr width="100%;" align="left"></td>
                            <td width="40%" align="center" style="padding: 2px;">
                                <h1>INTRODUCTION</h1>
                            </td>
                            <td><hr width="100%;" align="right"></td>
                        </tr>
                    </table>
                </div>
                <div style="width:45%; margin-left: 7%; float: left;">
                    <p>
                        Avec près de 11000 licenciés et plus de 80 clubs et associations sportives, la ville est habitée par le sport et attire des pratiquants bien au-delà des limites communales. Fait pas si fréquent pour une ville de cette dimension, elle compte cinq club en Nationale donc deux sont métropolitains.
                    </p>
                    <p>
                        Cette situation résulte des liens étroits qui se sont tissés entre la municipalité, les associations et l’Office municipal des sports. Ils ont contribué à proposer un large choix de pratiques, des initiations proposées aux enfants très tôt par les écoles du sport et une qualité d’équipement et de banlieue de l’autre côté de la Loire, n’a eu que peu de ressources financières.
                    </p>
                    <p>
                        Rendre les équipements et les pratiques accessibles à tous est un enjeu qui a été intégré dans deux des cinq priorités du mandat : “la jeunesse comme promesse pour l’avenir” et “les loisirs et la vie associative pour l’épanouissement de chacun”.
                    </p>
                    <p>
                        En concourant pour le challenge de la ville la plus sportive du département, c’est un hommage qui a été rendu à tous les sportifs, enfants, femmes et hommes, de tous âges, pratiquant librement, en amateurs ou en professionnels, qui ont pour point commun de vivre et de faire vivre le sport avec passion sur le territoire.
                    </p>
                </div>
                <div align="center" style="width:40%; margin-right: 3px; float: right;">
                    <p style="font-size: 40px; margin-top: 0px;">10618 PRATIQUANTS</p>
                    <svg style="margin-top: 15%;" viewBox="0 0 500 400" preserveAspectRatio="none">
                        <rect x="0" y="0" fill="#241F21" width="262.4" height="25.9"/>
                        <rect id="r1" x="0" y="0" fill="#FF3D00" height="25.9">
                        </rect>
                        <text class="t1" x="270" y="18" fill="white"></text><text x="310" y="18" fill="white">licencies</text>
                                                
	                    <rect x="0" y="79.9" fill="#241F21" width="262.4" height="25.9"/>
	                    <rect id="r2" x="0" y="79.9" fill="#FF3D00" height="25.9"/>
                        <text class="t2" x="270" y="98" fill="white">5113</text><text x="310" y="98" fill="white">jeunes</text>
                        
	                    <rect x="0" y="159.7" fill="#241F21" width="262.4" height="25.9"/>
	                    <rect id="r3" x="0" y="159.7" fill="#FF3D00" height="25.9"/>
                        <text class="t3" x="270" y="178" fill="white">4095</text><text x="310" y="178" fill="white">femmes</text>
                        
	                    <rect x="0" y="239.5" fill="#241F21" width="262.4" height="25.9"/>
	                    <rect id="r4" x="0" y="239.5" fill="#FF3D00" height="25.9"/>
                        <text class="t4" x="270" y="258" fill="white">878</text><text x="310" y="258" fill="white">adherents</text>
                    </svg>
                </div>
            </div>  
<!--===============================================================================================================-->
            <div class ="section" id="section2" >
                <div class="header_slide">
                    <table>
                        <tr>
                            <td><hr width="100%;" align="left"></td>
                            <td width="40%" align="center" style="padding: 2px;">
                                <h1>CRITÈRES DU CROS</h1>
                            </td>
                            <td><hr width="100%;" align="right"></td>
                        </tr>
                    </table>
                </div>
                <div id="infos_CROS">
                    <p style="font-weight: bold;">Le sport en Pays de la Loire c’est :</p>
                    <p>84 ligues sportives régionales (adhérentes du CROS), près de 10.215 clubs, 120.000 dirigeants sportifs bénévoles, 1.040.832 licenciés sportifs, et 355 athlètes de haut niveau répartis sur 9 pôles France, 19 pôles Espoirs ainsi que 8 centres de formations agréés jeunesse et sports</p>
                    <svg width="100%" height="300px" viewBox="0 0 500 300" preserveAspectRatio="xMidYMid meet">
                        <rect x="350px" y="200px" width="150px" height="70px" style="fill:#252525;stroke-width:0px;"></rect>
                        <text text-anchor="end" x="490px" y="220px" style="fill:red">REZÉ</text>
                        <text text-anchor="end" x="490px" y="240px" style="fill:green">SAINT-NAZAIRE</text>
                        <text text-anchor="end" x="490px" y="260px" style="fill:blue">PORNIC</text>
                    </svg>
                </div>
                <div id="barchart">
                    <h1 style="text-align:left;-webkit-margin-start: 30%;">Pratiquants</h1>
                </div>
            </div>  
<!--===============================================================================================================-->
            <div class ="section" id="section3" >
                <div class="header_slide">
                    <table>
                        <tr>
                            <td><hr width="100%;" align="left"></td>
                            <td width="40%" align="center" style="padding: 2px;">
                                <h1>CRITÈRES DU CROS</h1>
                            </td>
                            <td><hr width="100%;" align="right"></td>
                        </tr>
                    </table>
                </div>
                <div id="infos_CROS">
                    <p style="font-weight: bold;">Le sport en Pays de la Loire c’est :</p>
                    <p>84 ligues sportives régionales (adhérentes du CROS), près de 10.215 clubs, 120.000 dirigeants sportifs bénévoles, 1.040.832 licenciés sportifs, et 355 athlètes de haut niveau répartis sur 9 pôles France, 19 pôles Espoirs ainsi que 8 centres de formations agréés jeunesse et sports</p>
                    <svg width="100%" height="300px" viewBox="0 0 500 300" preserveAspectRatio="xMidYMid meet">
                        <rect x="350px" y="200px" width="150px" height="70px" style="fill:#252525;stroke-width:0px;"></rect>
                        <text text-anchor="end" x="490px" y="220px" style="fill:red">REZÉ</text>
                        <text text-anchor="end" x="490px" y="240px" style="fill:green">SAINT-NAZAIRE</text>
                        <text text-anchor="end" x="490px" y="260px" style="fill:blue">PORNIC</text>
                    </svg>
                </div>
                <div id="barchart">
                    <h1 style="text-align:left; float: left;-webkit-margin-start: 30%;">Budgets</h1>
                    <h1 style="text-align:left; float: right;">Équipements sportifs</h1>
                    <span class="timer"></span>
                </div>
            </div>
            
 <!--===============================================================================================================-->
           <div class ="section" id="section4" >
                <div class="header_slide">
                    <table>
                        <tr>
                            <td><hr width="100%;" align="left"></td>
                            <td width="40%" align="center" style="padding: 2px;">
                                <h1>Reze</h1>
                                <h3>Équipements sportifs</h3>
                            </td>
                            <td><hr width="100%;" align="right"></td>
                        </tr>
                    </table>
                </div>
                    <div>
                        <div id="container1" style="width:55%; float:left;">
                            <svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	                           viewBox="0 0 1190.6 841.9" enable-background="new 0 0 1190.6 841.9" xml:space="preserve" preserveAspectRatio="none">
                                    <g id="stades">
	                                   <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="534.2,286.8 669.6,198.5 747.3,196.4 
		                                  732.9,241.6 760,255.4 740.5,278.3 724.4,317.8 659.4,379.3 620.8,400.1 590.7,400.1 540.6,347.9 536.3,331.8 542.7,307.2 	"/>
	                                   <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="743.9,162.4 760,159 755.8,146.3 
		                                  853,119.6 859.4,115.7 893.7,150.5 927.7,184.9 943.8,214.6 950.2,250.3 961.2,271.5 925.2,294.4 907.8,294.4 933.6,343.7 
		                                  919.6,341.5 903.5,349.2 895.4,346.6 868.7,367.9 852.6,367.9 810.1,333.1 800.4,313.5 785.5,289.8 775.3,288.9 763.4,277.5 
		                                  760,255.4 732.9,241.6 747.3,196.4 	"/>
	                                   <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="854.7,463.4 833.9,471.4 825,454.5 
		                                  795.7,485 769.8,506.2 786.8,547 760,540.6 743.9,544.9 718.9,536 706.1,524.9 690,521.9 686.6,526.6 673,527 673,513.9 650.5,491 
		                                  653.9,471.4 624.6,449.8 609.8,426 590.7,400.1 620.8,400.1 659.4,379.3 724.4,317.8 740.5,278.3 760,255.4 763.4,277.5 
		                                  775.3,288.9 785.5,289.8 800.4,313.5 810.1,333.1 852.6,367.9 	"/>
			                           <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="915.4,439.6 948.9,463.8 951.1,469.3 
				                          987.1,469.3 1004.1,461.7 1017.7,433.2 1056.7,401.2 1064.4,385.7 1087.3,401.2 1087.3,395.9 1109.4,382.7 1113.2,348.8 
				                          1052.9,333.1 1014.3,319.9 986.3,304.6 961.2,271.5 925.2,294.4 907.8,294.4 933.6,343.7 919.6,341.5 903.5,349.2 895.4,346.6 
				                          868.7,367.9 852.6,367.9 854.7,463.4 854.7,474.8 	"/>
			                           <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="670.9,551.7 684.1,597.5 684.1,613.6 
				                          669.2,613.6 698.9,678.6 687,708.7 746.9,744.8 746.9,755 752.8,755 754.9,764.3 752,764.3 752.8,772 762.2,787.7 775.7,783.8 
				                          783.8,797 927.3,772.4 946.8,749.5 943.4,742.7 962.9,722.3 960.8,720.6 976.5,703.6 980.8,707.9 985.4,703.2 982.9,699 
				                          1003.7,674.3 1003.7,666.3 1008.4,651.8 1031.7,640.8 1038.5,648 1058.4,628.1 1064,629.3 1066.5,617.5 1066.5,614.1 1069.9,606 
				                          1075.4,607.7 1106,563.1 1101.3,519.4 1087.3,499.9 1086,493.1 1066.1,460.4 1087.3,401.2 1064.4,385.7 1056.7,401.2 1017.7,433.2 
				                          1004.1,461.7 987.1,469.3 951.1,469.3 948.9,463.8 915.4,439.6 854.7,474.8 854.7,463.4 833.9,471.4 825,454.5 795.7,485 
				                          769.8,506.2 786.8,547 760,540.6 743.9,544.9 718.9,536 706.1,524.9 690,521.9 686.6,526.6 673,527 	"/>
			                           <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="534.2,286.8 532.5,271.5 541.4,240.1 
				                          541.4,214.2 528.7,196.4 521.1,183.6 475.6,170.1 564.4,133.1 611.9,128.9 716.3,147.1 755.8,146.3 760,159 743.9,162.4 
				                          747.3,196.4 669.6,198.5 	"/>
			                           <polygon fill="#231F20" stroke="#414141" stroke-width="3" stroke-miterlimit="10" points="319.9,136.1 330.5,136.1 433.6,105.1 
				                          459.1,87.3 481.2,87.3 503.2,95.8 501.5,78.8 575.3,66.5 584.3,70.3 590.7,68.6 680.2,74.6 712.9,74.6 722.7,78 736.3,76.7 
				                          747.7,80.1 753.3,78.8 777.9,79.7 816.9,83.9 820.7,104.7 834,124.8 755.8,146.3 716.3,147.1 611.9,128.9 564.4,133.1 518.8,152.1 
				                          510,142.1 499.8,148.4 488.8,128.9 475.6,146.7 453.2,168.4 408.6,185.3 309.7,185.3 322,139.5 	"/>
</g>
		                            <g id="espaces_sportifs_de_plein_air_en_accès_libre" fill="#42FF97">
	                                   <circle id="espace1" fill="#42FF97" cx="468.8" cy="100.2" r="7.8"/>
	                                   <circle id="espace2" fill="#42FF97" cx="420.4" cy="123.3" r="7.8"/>
	                                   <circle id="espace3" fill="#42FF97" cx="582.7" cy="174.5" r="7.8"/>
	                                   <circle id="espace4" fill="#42FF97" cx="652.8" cy="155.2" r="7.8"/>
	                                   <circle id="espace5" fill="#42FF97" cx="599.8" cy="231" r="7.8"/>
	                                   <circle id="espace6" fill="#42FF97" cx="582.7" cy="287.9" r="7.8"/>
	                                   <circle id="espace7" fill="#42FF97" cx="574.8" cy="322" r="7.8"/>
	                                   <circle id="espace8" fill="#42FF97" cx="659.7" cy="265.1" r="7.8"/>
	                                   <circle id="espace9" fill="#42FF97" cx="689.9" cy="250.6" r="7.8"/>
	                                   <circle id="espace10" fill="#42FF97" cx="709" cy="249.9" r="7.8"/>
	                                   <circle id="espace11" fill="#42FF97" cx="709" cy="268.3" r="7.8"/>
                                       <circle id="espace12" fill="#42FF97" cx="694.8" cy="313.7" r="7.8"/>
	                                   <circle id="espace13" fill="#42FF97" cx="748.5" cy="298.3" r="7.8"/>
	                                   <circle id="espace14" fill="#42FF97" cx="793.2" cy="277.6" r="7.8"/>
	                                   <circle id="espace15" fill="#42FF97" cx="751.7" cy="184.8" r="7.8"/>
	                                   <circle id="espace16" fill="#42FF97" cx="854.7" cy="165" r="7.8"/>
	                                   <circle id="espace17" fill="#42FF97" cx="872.5" cy="131.1" r="7.8"/>
	                                   <circle id="espace18" fill="#42FF97" cx="932.6" cy="227.8" r="7.8"/>
	                                   <circle id="espace19" fill="#42FF97" cx="864.9" cy="253.1" r="7.8"/>
	                                   <circle id="espace20" fill="#42FF97" cx="787.8" cy="365.2" r="7.8"/>
	                                   <circle id="espace21" fill="#42FF97" cx="703.4" cy="459.9" r="7.8"/>
	                                   <circle id="espace22" fill="#42FF97" cx="848.9" cy="432" r="7.8"/>
	                                   <circle id="espace23" fill="#42FF97" cx="876.9" cy="451.3" r="7.8"/>
	                                   <circle id="espace24" fill="#42FF97" cx="923" cy="416" r="7.8"/>
	                                   <circle id="espace25" fill="#42FF97" cx="967.4" cy="394.2" r="7.8"/>
	                                   <circle id="espace26" fill="#42FF97" cx="1016" cy="318.8" r="7.8"/>
	                                   <circle id="espace27" fill="#42FF97" cx="1043.3" cy="338.5" r="7.8"/>
	                                   <circle id="espace28" fill="#42FF97" cx="868.5" cy="572.6" r="7.8"/>
	                                   <circle id="espace29" fill="#42FF97" cx="980" cy="621.4" r="7.8"/>
	                                   <circle id="espace30" fill="#42FF97" cx="999.8" cy="611.6" r="7.8"/>
	                                   <circle id="espace31" fill="#42FF97" cx="812.3" cy="524.2" r="7.8"/>
	                                   <circle id="espace32" fill="#42FF97" cx="794.4" cy="541.4" r="7.8"/>
	                                   <circle id="espace33" fill="#42FF97" cx="706.8" cy="571.8" r="7.8"/>
                                   </g>
                                   <g id="Gymanes_ou_complexes_couverts_multisalles" fill="#FF3652">
	                                   <circle id="gymane1" fill="#FF3652" cx="575.5" cy="160.3" r="7.8"/>
	                                   <circle id="gymane2" fill="#FF3652" cx="585.6" cy="271.5" r="7.8"/>
	                                   <circle id="gymane3" fill="#FF3652" cx="557.4" cy="335" r="7.8"/>
<!--	                                   <circle id="gymane4" fill="#FF3652" cx="694.8" cy="326.7" r="7.8"/>-->
	                                   <circle id="gymane5" fill="#FF3652" cx="759.3" cy="174.5" r="7.8"/>
	                                   <circle id="gymane6" fill="#FF3652" cx="875.2" cy="249.9" r="7.8"/>
	                                   <circle id="gymane7" fill="#FF3652" cx="810.9" cy="276.1" r="7.8"/>
	                                   <circle id="gymane8" fill="#FF3652" cx="719.3" cy="253.3" r="7.8"/>
	                                   <circle id="gymane9" fill="#FF3652" cx="694.8" cy="326.7" r="7.8"/>
	                                   <circle id="gymane10" fill="#FF3652" cx="701.2" cy="365.2" r="7.8"/>
	                                   <circle id="gymane11" fill="#FF3652" cx="804.5" cy="366.2" r="7.8"/>
	                                   <circle id="gymane12" fill="#FF3652" cx="841.1" cy="424.6" r="7.8"/>
	                                   <circle id="gymane13" fill="#FF3652" cx="836.4" cy="566.2" r="7.8"/>
	                                   <circle id="gymane14" fill="#FF3652" cx="921.1" cy="402" r="7.8"/>
                                   </g>
                                   <g id="Équipements_sportifs_spécialisés" fill="#004CFF">
	                                   <circle id="equip1" fill="#004CFF" cx="434.7" cy="114.9" r="7.8"/>
	                                   <circle id="equip2" fill="#004CFF" cx="607.7" cy="305.9" r="7.8"/>
	                                   <circle id="equip3" fill="#004CFF" cx="793.2" cy="196.9" r="7.8"/>
	                                   <circle id="equip4" fill="#004CFF" cx="980" cy="580.4" r="7.8"/>
	                                   <circle id="equip5" fill="#004CFF" cx="1012.5" cy="594.5" r="7.8"/>
                                   </g>
                                   <g id="Stades" fill="#FF3E00">
	                                   <circle id="stade1" fill="#FF3E00" cx="958" cy="586" r="7.8"/>
	                                   <circle id="stade2" fill="#FF3E00" cx="569.5" cy="285.5" r="7.8"/>
                                   </g>
                                   <g id="Piscine_et_Patinoire" fill="#FFFF00">
	                                   <circle id="piscine1" fill="#FFFF00" cx="551.7" cy="288.9" r="7.8"/>
	                                   <circle id="piscine2" fill="#FFFF00" cx="595.3" cy="282.8" r="7.8"/>
                                   </g>
                        </svg>
                            <div style="position: absolute; left: 2%; bottom: 5%; width: 20%;">
                                <svg id="legend" viewBox="0 0 300 220" style="background: #231F20;" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                                    <g>
                                        <circle cx="20" cy="30" r="10" fill="#44ff97" />
                                        <text x="50" y="35" fill="white">Espaces sportifs de plein air</text>
                                    </g>
                                    <g>
                                        <circle cx="20" cy="70" r="10" fill="#ff3652" />
                                        <text x="50" y="75" fill="white">Gymanes</text>
                                    </g>
                                    <g>
                                        <circle cx="20" cy="110" r="10" fill="#004cff" />
                                        <text x="50" y="115" fill="white">Équipements spécialisés</text>
                                    </g>
                                    <g>
                                        <circle cx="20" cy="150" r="10" fill="#ff3e00" />
                                        <text x="50" y="155" fill="white">Stades</text>
                                    </g>
                                    <g>
                                        <circle cx="20" cy="190" r="10" fill="#ffff00" />
                                        <text x="50" y="195" fill="white">Piscine / Patinoire</text>
                                    </g>                                  
                                </svg>
                            </div>
                        </div>
        
                        <div id="container2" style="width:45%; float:left;">
                            <div id="infos" style="background: #231F20; opacity: 0; margin-top: 15%; margin-left:10%; padding: 3px; margin-right: 10%;">
                                <h2 id="name">
                                </h2>
                                <h4 id="address">
                                </h4>
                                <pre id="information" style="font-size: 20px;"></pre>
                            </div>
                        </div>
                    </div>
                    <script src="js/script_map_reze.js"></script>
            </div>  
<!--===============================================================================================================-->
            <div class ="section" id="section5" >
                <div class="header_slide">
                    <table>
                        <tr>
                            <td><hr width="100%;" align="left"></td>
                            <td width="40%" align="center" style="padding: 2px;">
                                <h1>Slide5</h1>
                            </td>
                            <td><hr width="100%;" align="right"></td>
                        </tr>
                    </table>
                </div>
            </div>  
<!--========================================================================================================================-->
            <div class ="section" id="section6" > 
                <div class="header_slide">
                    <table>
                        <tr>
                            <td><hr width="100%;" align="left"></td>
                            <td width="40%" align="center" style="padding: 2px;">
                                <h1>À L’ÉCHELLE NATIONALE</h1>
                                <h2>(moyenne des régions)</h2>
                            </td>
                            <td><hr width="100%;" align="right"></td>
                        </tr>
                    </table>
                </div>
                <div id="map"></div>
                <div style="float:right;width:500px;">
                    <h1><span style="color:red;">Rezé</span> / <span id="region_name_green" style="color:green;"></span></h1>
                    <svg class="chart"></svg>
                </div>
                <script>
                    var width = 700,
                        height = 500;
                    //Define map projection
                    var projection = d3.geo.mercator()
                                         .center([0.816, 46.28]) // On centre la carte sur la France
                                          .scale(1700)
                                          .translate([width / 2, height / 2]);
                    //Define path generator
                    var path = d3.geo.path()
                                     .projection(projection);
                    var svg = d3.select("#map").append("svg")
                        .attr("width", width)
                        .attr("height", height);
                    d3.json("../Ressources/data/regions.topojson", function(error, topology) {
                      if (error) {
                        console.log(error);
                        throw error;
                      }
                      svg.selectAll("path")
                          .data(topojson.feature(topology, topology.objects.region).features)
                        .enter().append("path")
                          .attr("d", path)
                          .on('click', regionClickHandler);
                      var coordinates = projection([-1.5922779,47.1733296]);
                      svg.append('svg:circle')
                        .attr('cx', coordinates[0])
                        .attr('cy', coordinates[1])
                        .attr('fill','red')
                        .attr('r', 7);
                    });

                    function regionClickHandler(d){
                        histogram(d.properties.nom);
                    }

                    function histogram(region){
                        console.log(region);
                        $('svg.chart').html('');
                        d3.json("../Ressources/data/regions.json", function(error, regions) {
                          if (error) {
                            throw error;
                          }
                          var data = regions.filter(function(r){
                            return r.region == region;
                          })

                          d3.select("#region_name_green").text(function(d) { return data[0].region; });
                          data = [data[0].part_femme,data[0].part_population];
                          var width = 420,
                            barHeight = 20;

                            var x = d3.scale.linear()
                                .domain([0, 100])
                                .range([0, width]);

                            var chart = d3.select(".chart")
                                .attr("width", width)
                                .attr("height", barHeight * data.length);

                            var bar = chart.selectAll("g")
                                .data(data)
                              .enter().append("g")
                                .attr("transform", function(d, i) { return "translate(0," + i * barHeight + ")"; });
                            
                            bar.append("rect")
                                .attr('fill','black')  
                                .attr("height", barHeight - 1)
                                .attr("width", width);

                            bar.append("rect")
                                .attr("width", 0)
                                .attr('fill','green')  
                                .attr("height", barHeight - 1)
                                .transition()
                                .duration(1000)
                                .ease("quad")
                                .attr("width", x);


                            bar.append("text")
                                .attr("x", function(d) { return x(d); })
                                .attr("y", barHeight / 2)
                                .attr("dy", ".35em")
                                .text(function(d) { return d+'%'; });
                            
                            bar.append("text")
                                .attr("dy", ".35em")
                                .attr('class','histogram-legend')
                                .text(function(d,i) { 
                                    if(i == 0) return 'Pourcentage de femme licenciées';
                                    else return 'Pourcentage de licenciés population';
                                 });

                        });
                    }

                </script>
            </div> 
<!--===============================================================================================================-->
            <div class ="section" id="section7" >Credits  </div> 

        </div>
  </body>
</html>
